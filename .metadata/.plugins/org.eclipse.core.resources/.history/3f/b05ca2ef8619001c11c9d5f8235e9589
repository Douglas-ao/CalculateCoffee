package br.com.coffeecalculation.runn;

import javax.swing.JOptionPane;

import br.com.coffeecalculation.coffeeshop.Add;
import br.com.coffeecalculation.coffeeshop.CoffeeShop;
import br.com.coffeecalculation.coffeeshop.Size;
import br.com.coffeecalculation.drinkenums.AddEnum;
import br.com.coffeecalculation.drinkenums.DrinkEnum;
import br.com.coffeecalculation.drinkenums.SizeEnum;

public class Main {

	public static void main(String[] args) {
        String[] buttons = {"Café", "Café com Leite", "Leite com Chocolate", "Mocha", "Espresso Panna", "Cancelar"};
        int returnValue = JOptionPane.showOptionDialog(null, "Escolha um tipo de bebida para prosseguir: ", "Escolha de bebidas", JOptionPane.WARNING_MESSAGE, 0, null, buttons, buttons[0]);

        DrinkEnum drinkEnum = DrinkEnum.values()[returnValue];
        CoffeeShop drink = drinkEnum.getDrinkEnum(returnValue);
        
        String[] button = {"Pequeno", "Médio", "Grande", "Cancelar"};
        int returnValueSize = JOptionPane.showOptionDialog(null, "Escolha o Tamanho: ", "Escolha de tamanhos", JOptionPane.WARNING_MESSAGE, 0, null, button, button[0]);
        
        SizeEnum sizeEnum = SizeEnum.values()[returnValueSize];
        Size size = sizeEnum.getSizeEnum(returnValueSize);
        
        String[] buttonAdd = {"Raspas de limão", "Canela em pó", "Leite ninho (colher)", "Gelo de creme de leite",
        		"Leite condensado (colher)", "Chocolate em pó (colher)","Cookie","Nenhuma"};
        int returnValueAdd = JOptionPane.showOptionDialog(null, "Escolha o Adicional: ", "Escolha de tamanhos", JOptionPane.WARNING_MESSAGE, 0, null, buttonAdd, buttonAdd[0]);

        AddEnum addEnum = AddEnum.values()[returnValueAdd];
        Add add = addEnum.getAddEnum(returnValueAdd);
        
        String[] buttonAddOption = {"Adicionar Mais"};
        int returnValueAddOption = JOptionPane.showOptionDialog(null, "Escolha o Adicional: ", "Escolha de tamanhos", JOptionPane.WARNING_MESSAGE, 0, null, buttonAddOption, buttonAddOption[0]);

        AddEnum addOptionEnum = AddEnum.values()[returnValueAddOption];
        Add addOption = addOptionEnum.getAddEnum(returnValueAddOption);
        
        try {
            double totalDrinks = drink.calculate(0);
            double totalSize = totalDrinks * size.calculate(0) / 100;
            double totalAdds =  add.calculate(0);
            double total = totalDrinks + totalSize + totalAdds ;
            double option = addOption.calculate(0);
            JOptionPane.showMessageDialog(null, "Valor Total: " + String.format("%.2f", total));
            JOptionPane.showMessageDialog(null, "Valor Total: " + String.format("%.2f", option));


            
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }
}
